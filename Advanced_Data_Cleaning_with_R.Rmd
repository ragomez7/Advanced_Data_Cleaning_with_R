---
title: "Advanced_Data_Cleaning_on_R"
author: "Rafael A. GÃ³mez"
date: "7/30/2021"
output: html_document
---

We show a method to quickly analyze all the column vectors in a dataset to be able to discern inconsistencies that need to be cleaned. Naturally, this extends the normal NA and facilitates determining other missing values imputed differently, for example: '-999','xxx','?', etc.

Read the CSV file.
```{r}
df = read.csv("breast-cancer-wisconsin-data.csv")
```

Take a quick look.
```{r}
head(df)
tail(df)
```
Create and run the function
```{r}
get_unique_per_col = function(df){
    '
    Parameters:
      df - The R data.frame file.
    '
  columns = colnames(df)
  all_unique = vector(mode = "list")
  for(i in 2:ncol(df)){
    all_unique = append(all_unique,as.list(unique(df[columns[i]])))
  }
  #Printing all unique values per variable
  print(all_unique)
}
get_unique_per_col(df=df)
```
With this output, we can quickly make decisions on how to handle the values. Missing data is usually labeled as 'NA', but can also be labeled as '?', 'X', 'xxx', '-999' among infinite other options that are not resolved with na.omit and should be treated according to the problem in question.

Imputing existing NAs with vector mean
```{r}
#Imputing existing NAs with vector mean
for(i in 1:ncol(df)) {
  df[ , i][is.na(df[ , i])] <- mean(df[ , i], na.rm = TRUE)
}
get_unique_per_col(df)
```
We see an 'argument is not numeric or logical' error, this is because the "BareNuclei" variable is of type character and is linked with the below.

We see that the "BareNuclei" variable has a '?' as a unique value and also is of type character. How to deal with this? Since it's preferred to have all quantitative variables sa a number type, we cast the vector to integer and the '?' are casted to NAs.


```{r}
#Cast variable as integer
df[, 'BareNuclei'] = as.integer(df[, 'BareNuclei'])
df[ , 'BareNuclei'][is.na(df[ , 'BareNuclei'])] <- mean(df[ , i], na.rm = TRUE)
```


We now verify again all the unique values in each variable to keep on cleaning.
```{r}
get_unique_per_col(df)
```

We have cleaned this dataset!
